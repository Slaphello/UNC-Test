-- It's not obfuscate lol :/
-- Don't let TSB Dev know this
local a = game:GetService("UserInputService")
local b = game:GetService("Players")
local c = game:GetService("RunService")
getgenv().DashNoEndLag = true
local d = b.LocalPlayer
local e = false
local f = a.TouchEnabled
local g = not f
local h = false
local i = {"Freeze", "Slowed", "WallCombo", "Ragdoll", "BeingLaunched", "BeingGrabbed"}
local function j(k)
    local l = k:FindFirstChild("Communicate")
    if not l then
        return
    end
    local m = {{Dash = Enum.KeyCode.W, Key = Enum.KeyCode.Q, Goal = "KeyPress"}}
    l:FireServer(unpack(m))
end
local function n(o, p)
    local q = o.MoveDirection
    if q.Magnitude <= 0 then
        return 0
    end
    local r = p.CFrame:VectorToObjectSpace(q)
    return (math.deg(math.atan2(r.Z, r.X)) + 360) % 360
end
local function s(k, t)
    t.MouseButton1Down:Connect(
        function()
            if not getgenv().DashNoEndLag then
                return
            end
            if e then
                return
            end
            local o = k:FindFirstChildOfClass("Humanoid")
            local p = k:FindFirstChild("HumanoidRootPart")
            if not o or not p then
                return
            end
            local u = n(o, p)
            if u == 0 or u >= 225 and u < 315 then
                j(k)
            end
        end
    )
end
local function v()
    if not g or h then
        return
    end
    h = true
    a.InputBegan:Connect(
        function(w, x)
            if x or w.KeyCode ~= Enum.KeyCode.Q then
                return
            end
            if not getgenv().DashNoEndLag then
                return
            end
            if e then
                return
            end
            local k = d.Character
            if not k then
                return
            end
            if not (a:IsKeyDown(Enum.KeyCode.A) or a:IsKeyDown(Enum.KeyCode.S) or a:IsKeyDown(Enum.KeyCode.D)) then
                j(k)
            end
        end
    )
end
local function y()
    local k = d.Character or d.CharacterAdded:Wait()
    if f then
        task.spawn(
            function()
                local z = d:WaitForChild("PlayerGui")
                local A = z:WaitForChild("TouchGui", 5)
                if not A then
                    return
                end
                local B = A:WaitForChild("TouchControlFrame", 5)
                if not B then
                    return
                end
                local C = B:WaitForChild("JumpButton", 5)
                if not C then
                    return
                end
                local D = C:WaitForChild("DashButton", 5)
                if D then
                    s(k, D)
                end
            end
        )
    end
end
c.Heartbeat:Connect(
    function()
        local k = d.Character
        if k then
            local E = false
            for F, G in ipairs(i) do
                if k:FindFirstChild(G) then
                    E = true
                    break
                end
            end
            e = E
        else
            e = false
        end
    end
)
local H = getrawmetatable(game)
local I = H.__namecall
setreadonly(H, false)
H.__namecall =
    newcclosure(
    function(self, ...)
        local J = getnamecallmethod()
        local m = {...}
        if J == "FireServer" and tostring(self) == "Communicate" then
            local K = m[1]
            if type(K) == "table" then
                local L = K.Key
                local M = K.Dash
                local N = K.Goal
                local O = L == Enum.KeyCode.Q and (M == Enum.KeyCode.A or M == Enum.KeyCode.D) and N == "KeyPress"
                if O and not e then
                    return nil
                end
            end
        end
        return I(self, ...)
    end
)
setreadonly(H, true)
v()
task.spawn(
    function()
        pcall(y)
    end
)
d.CharacterAdded:Connect(
    function()
        task.wait(0.1)
        task.spawn(
            function()
                pcall(y)
            end
        )
    end
)
game:GetService("StarterGui"):SetCore(
    "SendNotification",
    {Title = "Executed", Text = "Thanks for using :/", Duration = 3}
)
